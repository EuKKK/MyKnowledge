# C++ 面试遇到的问题

### 1.创建空类的时候编译器会为空类生成些什么

- **缺省构造函数**，应该就是默认构造函数，不带参数的那种
- **拷贝构造函数**，这是一种特殊的构造函数，参数是该类型的引用，用来将引用的对象复制给新的实例。这里涉及到**深复制**与**浅复制**的问题，默认生成的是**浅复制**的，即将类型包含的所有成员变量复制到新实例里面。这将会构成问题，因为浅复制不会更改静态成员变量，也不会new新的内存空间。
- **析构函数**
- **赋值运算符**，就是=
- **带const的与不带const的取址运算符**，即&



### 2.有3个类 A B C，B继承A、包含C类型的成员变量，创建B实例的时候调用构造函数的顺序是？

顺序是A C B。

创建实例时**构造函数**的调用顺序是：

- **虚拟基类**的构造函数（virtual public xxx）
- **非虚拟基类**的构造函数
- **成员变量**的构造函数
- **本身**的构造函数

每一种都是按声明时的顺序。

析构则是发过来，结合栈来理解。



### 3.虚函数

虚函数是用来实现**多态**的方法，即调用方法的行为取决于调用方法的对象。需要实现多态的基类函数前加virtual来声明虚函数，这样基类指针指向的实例就会按照实际类型执行该函数。

具体实现是编译器在有虚函数的类的成员变量前隐式创建一张**虚函数**表，里面存储着指向虚函数的地址，之后的所有子类都会继承这张表。如果子类重写了其中的函数，则虚函数列表了面对应的位置就会改为子类的函数。

**虚析构函数**是必须的，因为析构时需要按照子类的析构函数析构而不是父类的析构函数！